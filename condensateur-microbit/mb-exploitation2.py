import matplotlib.pyplot as plt
import numpy as np

# on sort les données, on les place dans 2 tableaux numpy
file = np.loadtxt("mb-donnees2.csv", skiprows=1, delimiter=';')
temps = file[ : ,0]
charge = file[ : ,1]

# transformation de charge pour avoir des %
charge = charge*100/1023

# représentation points expérimentaux
plt.plot(temps, charge, 'b+', label = "points expérimentaux")

# variables pour étude théorique 
R = 270
C = 100e-6
tau = R*C
tau_ms = tau*1e3
ChargeMax = 100

# calcul de la courbe théorique
charge_theorie = ChargeMax*(np.exp(-temps/tau_ms))

# représentation courbe théorique
plt.plot(temps, charge_theorie, 'r--', label = "courbe théorique")


# axes, légendes,...
plt.legend()
plt.title("Décharge d'un condensateur, R = {r}$\\Omega$, C = {c} F".format(r = R, c = C))
plt.xlabel("temps en ms")
plt.ylabel("charge en %")
plt.grid()
plt.show()
